<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Project One | My Portfolio</title>
  <link rel="stylesheet" href="style.css"/>

  <!-- Optional AOS (if used) -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet"/>
</head>
<body>
  <header>
    <h1>Project One</h1>
    <p>A cool project that shows off my skills üòé</p>
    <a href="index.html" style="color:white;">‚Üê Back to Portfolio</a>
  </header>

  <section class="project-detail">
    <div class="video-wrapper paused">
      <video id="previewVideo" muted loop>
        <source src="todolist.mp4" type="video/mp4"/>
        Your browser does not support the video tag.
      </video>

      <!-- Pretty SVG play button overlay -->
      <div class="play-overlay" id="playOverlay">
        <svg width="80" height="80" viewBox="0 0 100 100" fill="none">
          <circle cx="50" cy="50" r="48" stroke="white" stroke-width="4" fill="rgba(0, 0, 0, 0.5)" />
          <polygon points="40,30 70,50 40,70" fill="white" />
        </svg>
      </div>

      <!-- Progress bar -->
      <div class="video-progress">
        <div class="video-progress-fill" id="progressFill"></div>
      </div>
    </div>

    <p>
      This project is a demonstration of my design and development skills. It includes animations, responsive layout, and a clean user interface.
    </p>

    <p>
      Key features include a scroll-triggered video preview, interactive elements, and dynamic styling.
    </p>
  </section>

  <footer style="text-align:center; padding: 2rem; color:#888;">
    &copy; 2025 Mara Iubitu
  </footer>

  <!-- Optional: AOS animations -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>AOS.init();</script>

  <!-- üíª Script for scroll, play, and progress bar -->
  <script>
    const video = document.getElementById("previewVideo");
    const overlay = document.getElementById("playOverlay");
    const wrapper = document.querySelector(".video-wrapper");
    const progressFill = document.getElementById("progressFill");

    // Auto-pause on scroll out of view
    const observer = new IntersectionObserver(
      entries => {
        entries.forEach(entry => {
          if (!entry.isIntersecting && !video.paused) {
            video.pause();
            wrapper.classList.add("paused");
          }
        });
      },
      { threshold: 0.5 }
    );
    observer.observe(video);

    // Toggle play/pause on wrapper click
    wrapper.addEventListener("click", () => {
      if (video.paused) {
        video.play();
        wrapper.classList.remove("paused");
      } else {
        video.pause();
        wrapper.classList.add("paused");
      }
    });

    // Update progress bar
    video.addEventListener("timeupdate", () => {
      const percent = (video.currentTime / video.duration) * 100;
      progressFill.style.width = percent + "%";
    });

    // Set initial overlay
    if (video.paused) {
      wrapper.classList.add("paused");
    }
  </script>
</body>
</html>
